{"version":3,"sources":["components/Filter.js","components/Person.js","components/PersonForm.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","searchQuery","onChange","value","Person","person","removePerson","style","display","name","number","marginLeft","onClick","PersonForm","props","onSubmit","newName","handleNewNameChange","newNumber","handleNewNumberChange","type","Notification","message","text","isError","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","App","useState","persons","setPersons","setNewName","setNewNumber","setSearchQuery","notificationMessage","setNotificationMessage","useEffect","personService","intialPersons","updatePerson","find","p","updatedPerson","returnedPerson","console","log","map","displayMessage","catch","filter","runNotification","setTimeout","event","target","preventDefault","personObject","includes","window","confirm","concat","error","toLowerCase","key","copy","index","indexOf","splice","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.74ec7287.chunk.js","sourcesContent":["import React from 'react';\n\nconst Filter = ({ searchQuery, onChange }) => {\n  return (\n    <div>\n      filter shown with <input value={searchQuery} onChange={onChange} />\n    </div>\n  );\n};\n\nexport default Filter\n;\n","import React from 'react';\n\nconst Person = ({ person, removePerson }) => {\n  return (\n    <div>\n      <p\n        style={{ display: 'inline' }}\n      >\n        {person.name} {person.number}\n      </p>\n      <button\n        style={{ display: 'inline', marginLeft: 8 }}\n        onClick={removePerson}\n      >delete</button>\n    </div>\n  );\n};\n\nexport default Person\n;\n","import React from 'react';\n\nconst PersonForm = (props) => {\n  const { onSubmit,\n    newName, handleNewNameChange,\n    newNumber, handleNewNumberChange } = props;\n\n  return (\n    <form onSubmit={onSubmit}>\n      <div>\n        name: <input value={newName} onChange={handleNewNameChange} />\n      </div>\n      <div>\n        number: <input value={newNumber} onChange={handleNewNumberChange} />\n      </div>\n      <div>\n        <button type='submit'>add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default PersonForm;\n","import React from 'react';\n\nconst Notification = ({ message }) => {\n  if (message.text === null) {\n    return null;\n  }\n\n  const successStyle = {\n    color: 'green',\n    background: 'lightgray',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n  };\n\n  const errorStyle = {\n    color: 'red',\n    background: 'lightgray',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n  };\n\n  return (\n    <div style={message.isError ? errorStyle : successStyle}>\n      {message.text}\n    </div>\n  );\n};\n\nexport default Notification\n;\n","import axios from 'axios';\nconst baseUrl = '/api/persons';\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then(response => response.data);\n};\n\nconst get = id => {\n  const request = axios.get(`${baseUrl}\\${id}`);\n  return request.then(response => response.data);\n};\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then(response => response.data);\n};\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  return request.then(response => response.data);\n};\n\nconst remove = id => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then(response => response.data);\n};\n\nexport default { getAll, get, create, update, remove };\n","import React, { useState, useEffect } from 'react';\nimport Filter from './components/Filter';\nimport Person from './components/Person';\nimport PersonForm from './components/PersonForm';\nimport Notification from './components/Notification';\nimport personService from './services/persons';\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [notificationMessage, setNotificationMessage] = useState({\n    text: null,\n    isError: false\n  });\n\n  useEffect(() => {\n    personService.getAll().then(intialPersons => {\n      setPersons(intialPersons);\n    });\n  }, []);\n\n  /// CRUD functions\n  const addName = event => {\n    event.preventDefault();\n\n    const personObject = {\n      name: newName,\n      number: newNumber\n    };\n\n    const hasName = persons.map(person => person.name).includes(newName);\n\n    if (hasName) {\n      if (\n        window.confirm(\n          `${newName} is already added to phonebook, replace the old number with a new one?`\n        )\n      ) {\n        const person = persons.find(p => p.name === newName);\n        updatePerson(person.id);\n      }\n      return;\n    }\n\n    personService\n      .create(personObject)\n      .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson));\n        setNewName('');\n        setNewNumber('');\n        displayMessage(`Added ${returnedPerson.name}`);\n      })\n      .catch(error => {\n        console.log('CREATE ERROR:', error.response.data.error);\n        displayMessage(error.response.data.error, true);\n      });\n  };\n\n  const removePerson = person => {\n    if (window.confirm(`Delete ${person.name}`)) {\n      personService.remove(person.id).then(returnedPerson => {\n        const copy = [...persons];\n        const index = persons.indexOf(person);\n        if (index !== -1) {\n          copy.splice(index, 1);\n          setPersons(copy);\n        }\n        displayMessage(`Deleted ${person.name}`);\n      });\n    }\n  };\n\n  const updatePerson = id => {\n    const person = persons.find(p => p.id === id);\n    const updatedPerson = { ...person, number: newNumber };\n\n    personService\n      .update(id, updatedPerson)\n      .then(returnedPerson => {\n        console.log(returnedPerson);\n        setPersons(persons.map(p => (p.id !== id ? p : returnedPerson)));\n        setNewName('');\n        setNewNumber('');\n        displayMessage(`Updated ${returnedPerson.name}`);\n      })\n      .catch(() => {\n        displayMessage(\n          `Information on ${person.name} has already been removed from server`,\n          true\n        );\n        setPersons(persons.filter(p => p.id !== id));\n      });\n  };\n\n  /// Event handlers\n  const handleNewNameChange = event => {\n    setNewName(event.target.value);\n  };\n\n  const handleNewNumberChange = event => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleSearchQueryChange = event => {\n    setSearchQuery(event.target.value);\n  };\n\n  /// UI helpers\n  const personRows = () => {\n    return persons\n      .filter(person =>\n        person.name.toLowerCase().includes(searchQuery.toLowerCase())\n      )\n      .map(person => (\n        <Person\n          key={person.id}\n          person={person}\n          removePerson={() => removePerson(person)}\n        />\n      ));\n  };\n\n  const displayMessage = (text, isError = false) => {\n    setNotificationMessage({\n      ...notificationMessage,\n      text: text,\n      isError: isError\n    });\n\n    runNotification();\n  };\n\n  const runNotification = () => {\n    setTimeout(() => {\n      setNotificationMessage({\n        ...notificationMessage,\n        text: null,\n        isError: false\n      });\n    }, 5000);\n  };\n\n  /// JSX\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notificationMessage} />\n      <Filter searchQuery={searchQuery} onChange={handleSearchQueryChange} />\n      <h2>Add a new</h2>\n      <PersonForm\n        onSubmit={addName}\n        newName={newName}\n        handleNewNameChange={handleNewNameChange}\n        newNumber={newNumber}\n        handleNewNumberChange={handleNewNumberChange}\n      />\n      <h2>Numbers</h2>\n      {personRows()}\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}